import{r as p,o as u,b as c,d as s,e as i,f as g,h as k,g as t,l as o,t as r,i as f,m as x}from"./app-B4kXJm1R.js";import{_ as j}from"./AdminLayout-Dl7j7Lml.js";import{_ as w}from"./Card-CWZ0FrNR.js";import{_ as C}from"./DataTable-CQkKoL2v.js";import{_ as $}from"./Modal-D0MHrs78.js";import{_ as D}from"./Badge-Y_2TohS1.js";import{_ as m}from"./Button-BorMZ65S.js";import"./UserGroupIcon-CyxjldZw.js";import"./ArrowLeftIcon-C4pIvMX3.js";import"./TrashIcon-CSwwSb2h.js";import"./DemoBanner-5gPpdzaD.js";import"./XMarkIcon-BknwjWvY.js";import"./TagIcon-D0dlpqbY.js";import"./index-CSEUMRIG.js";import"./keyboard-BDssWLgB.js";const A={key:1,class:"text-gray-400 text-xs"},V={key:0,class:"space-y-4"},B={class:"grid grid-cols-2 gap-4 text-sm"},N={class:"border-t pt-4 mt-4"},S={class:"bg-gray-100 dark:bg-gray-800 p-4 rounded text-xs overflow-auto max-h-60"},R={__name:"Index",props:{activities:{type:Object,default:()=>({})}},setup(b){const v=[{key:"description",label:"Action",sortable:!1},{key:"subject_type",label:"Subject",sortable:!1},{key:"subject_id",label:"ID",sortable:!1},{key:"causer",label:"User",sortable:!1},{key:"created_at",label:"Date",sortable:!1},{key:"properties",label:"Changes",sortable:!1}],n=p(!1),a=p(null),y=d=>{a.value=d,n.value=!0},_=d=>{switch(d){case"created":return"success";case"updated":return"warning";case"deleted":return"danger";default:return"primary"}};return(d,e)=>(u(),c(j,{title:"Activity Logs"},{default:s(()=>[i(g(k),{title:"Activity Logs"}),i(w,null,{header:s(()=>[...e[2]||(e[2]=[t("div",{class:"w-full flex items-center justify-between"},[t("span",{class:"font-semibold"},"Activity Logs")],-1)])]),default:s(()=>[i(C,{"paginated-data":b.activities,columns:v},{"cell-description":s(({value:l})=>[i(D,{variant:_(l)},{default:s(()=>[o(r(l),1)]),_:2},1032,["variant"])]),"cell-properties":s(({row:l})=>[l.properties&&Object.keys(l.properties).length>0?(u(),c(m,{key:0,size:"xs",variant:"outline-secondary",onClick:L=>y(l)},{default:s(()=>[...e[3]||(e[3]=[o(" View Details ",-1)])]),_:1},8,["onClick"])):(u(),f("span",A,"-"))]),_:1},8,["paginated-data"])]),_:1}),i($,{show:n.value,title:"Activity Details",onClose:e[1]||(e[1]=l=>n.value=!1)},{footer:s(()=>[i(m,{variant:"secondary",onClick:e[0]||(e[0]=l=>n.value=!1)},{default:s(()=>[...e[9]||(e[9]=[o("Close",-1)])]),_:1})]),default:s(()=>[a.value?(u(),f("div",V,[t("div",B,[t("div",null,[e[4]||(e[4]=t("span",{class:"font-bold text-gray-500 block"},"Action",-1)),o(" "+r(a.value.description),1)]),t("div",null,[e[5]||(e[5]=t("span",{class:"font-bold text-gray-500 block"},"Date",-1)),o(" "+r(a.value.created_at),1)]),t("div",null,[e[6]||(e[6]=t("span",{class:"font-bold text-gray-500 block"},"Subject",-1)),o(" "+r(a.value.subject_type)+" #"+r(a.value.subject_id),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"font-bold text-gray-500 block"},"User",-1)),o(" "+r(a.value.causer),1)])]),t("div",N,[e[8]||(e[8]=t("h4",{class:"font-semibold mb-2"},"Changes / Properties",-1)),t("pre",S,r(JSON.stringify(a.value.properties,null,2)),1)])])):x("",!0)]),_:1},8,["show"])]),_:1}))}};export{R as default};
