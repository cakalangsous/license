import{u as k,r as w,a as h,o as l,b as C,d as o,e as s,f as i,h as $,g as a,l as f,i as d,F as M,j,t as g,p as U}from"./app-CXYNX7l5.js";import{w as F,_ as L,M as _}from"./AdminLayout-BzX5vIWh.js";import{_ as S}from"./Card-B-peCzvN.js";import{_ as c}from"./Button-D7awOZ5r.js";import{_ as V}from"./Pagination-AHBHJWrE.js";import{_ as z}from"./FileUpload-BlBx7xJu.js";import{_ as B}from"./Modal-MPsd-BTy.js";import"./UserGroupIcon-B_Y3lvxt.js";import"./ArrowLeftIcon-Bt2tPfv5.js";import"./TrashIcon-DePSIVFn.js";import"./DemoBanner-B-KdNamD.js";import"./XMarkIcon-CPBrcqh9.js";import"./TagIcon-C8r8ihxU.js";import"./index-CSEUMRIG.js";import"./keyboard-CcDRV2PE.js";const N={class:"flex justify-between items-center w-full"},E={key:0,class:"text-center py-8 text-gray-500"},T={key:1,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},D=["src","alt"],R={key:1,class:"text-gray-500 flex flex-col items-center"},q={class:"text-xs truncate px-2 text-center"},A={class:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2"},I={class:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs p-1 truncate text-center"},O={class:"mt-4"},W={class:"p-4"},G={class:"flex justify-end gap-2"},ie={__name:"Index",props:{media:Object},setup(p){const n=k(),u=w(!1),r=h({filepond:null}),v=()=>{r.post(_.store.url(),{preserveScroll:!0,onSuccess:()=>{n.success("Media uploaded successfully"),u.value=!1,r.reset()},onError:()=>{n.error("Failed to upload media")}})},y=m=>{confirm("Are you sure you want to delete this file?")&&U.delete(_.destroy.url({medium:m}),{onSuccess:()=>n.success("File deleted"),onError:()=>n.error("Failed to delete file")})},x=m=>{navigator.clipboard.writeText(m),n.info("URL copied to clipboard")};return(m,e)=>(l(),C(L,{title:"Media Library"},{default:o(()=>[s(i($),{title:"Media Library"}),s(S,null,{header:o(()=>[a("div",N,[e[5]||(e[5]=a("span",{class:"font-semibold text-lg"},"Media Library",-1)),s(c,{onClick:e[0]||(e[0]=t=>u.value=!0),variant:"primary"},{default:o(()=>[...e[4]||(e[4]=[f(" Upload Media ",-1)])]),_:1})])]),default:o(()=>[p.media.data.length===0?(l(),d("div",E," No media files found. Upload some files to get started. ")):(l(),d("div",T,[(l(!0),d(M,null,j(p.media.data,t=>(l(),d("div",{key:t.id,class:"group relative border rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 aspect-square flex items-center justify-center shadow-sm hover:shadow-md transition-shadow"},[t.mime_type.startsWith("image/")?(l(),d("img",{key:0,src:t.original_url,alt:t.name,class:"object-cover w-full h-full"},null,8,D)):(l(),d("div",R,[s(i(F),{class:"w-12 h-12 mb-2"}),a("span",q,g(t.file_name),1)])),a("div",A,[s(c,{size:"sm",variant:"secondary",onClick:b=>x(t.original_url)},{default:o(()=>[...e[6]||(e[6]=[f(" Copy URL ",-1)])]),_:1},8,["onClick"]),s(c,{size:"sm",variant:"danger",onClick:b=>y(t.id)},{default:o(()=>[...e[7]||(e[7]=[f(" Delete ",-1)])]),_:1},8,["onClick"])]),a("div",I,g(t.name),1)]))),128))])),a("div",O,[s(V,{links:p.media.links},null,8,["links"])])]),_:1}),s(B,{show:u.value,title:"Upload Media",onClose:e[3]||(e[3]=t=>u.value=!1)},{footer:o(()=>[a("div",G,[s(c,{variant:"outline-secondary",onClick:e[2]||(e[2]=t=>u.value=!1)},{default:o(()=>[...e[8]||(e[8]=[f("Cancel",-1)])]),_:1}),s(c,{disabled:!i(r).filepond,variant:"primary",onClick:v},{default:o(()=>[...e[9]||(e[9]=[f(" Save ",-1)])]),_:1},8,["disabled"])])]),default:o(()=>[a("div",W,[s(z,{modelValue:i(r).filepond,"onUpdate:modelValue":e[1]||(e[1]=t=>i(r).filepond=t),label:"Select File",error:i(r).errors.filepond,"max-file-size":10240,"allowed-extensions":"jpg,jpeg,png,gif,webkit,pdf,doc,docx,zip"},null,8,["modelValue","error"])])]),_:1},8,["show"])]),_:1}))}};export{ie as default};
