import{r as h,c as V,E,H as N,o as s,i as o,l as y,t as v,m as d,g as a,n as g,F as S,j as B,y as M,K as q,k as L,I as D}from"./app-B4kXJm1R.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={key:0,class:"form-label"},I={key:0,class:"text-danger"},R={class:"multiselect-wrapper"},U={class:"multiselect-tags"},z=["onClick","disabled"],H=["placeholder"],P={key:1,class:"multiselect-placeholder"},Q={class:"multiselect-arrow"},$={class:"multiselect-dropdown"},G={key:0,class:"multiselect-no-results"},J=["onClick"],W={class:"multiselect-checkbox"},X={key:0,class:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={key:1,class:"mt-1 text-sm text-danger"},Z={__name:"MultiSelect",props:{modelValue:{type:Array,default:()=>[]},label:String,options:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select options..."},error:String,required:Boolean,disabled:Boolean,valueKey:{type:String,default:"id"},labelKey:{type:String,default:"name"},searchable:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(n,{emit:_}){const r=n,b=_,i=h(!1),m=h(""),f=h(null),c=V(()=>Array.isArray(r.modelValue)?r.modelValue:[]),p=e=>typeof e=="object"?e[r.valueKey]:e,k=e=>typeof e=="object"?e[r.labelKey]:e,O=e=>{const t=r.options.find(l=>p(l)===e);return t?k(t):e},w=e=>c.value.includes(p(e)),x=V(()=>{if(!m.value)return r.options;const e=m.value.toLowerCase();return r.options.filter(t=>k(t).toLowerCase().includes(e))}),j=e=>{const t=p(e),l=[...c.value],u=l.indexOf(t);u===-1?l.push(t):l.splice(u,1),b("update:modelValue",l)},K=(e,t)=>{t.stopPropagation();const l=c.value.filter(u=>u!==e);b("update:modelValue",l)},A=()=>{r.disabled||(i.value=!i.value,i.value&&(m.value=""))},C=e=>{f.value&&!f.value.contains(e.target)&&(i.value=!1)};return E(()=>{document.addEventListener("click",C)}),N(()=>{document.removeEventListener("click",C)}),(e,t)=>(s(),o("div",{class:"form-group",ref_key:"containerRef",ref:f},[n.label?(s(),o("label",F,[y(v(n.label)+" ",1),n.required?(s(),o("span",I,"*")):d("",!0)])):d("",!0),a("div",R,[a("div",{class:g(["multiselect-container",{"multiselect-error":n.error,"multiselect-disabled":n.disabled,"multiselect-open":i.value}]),onClick:A},[a("div",U,[(s(!0),o(S,null,B(c.value,l=>(s(),o("span",{key:l,class:"multiselect-tag"},[y(v(O(l))+" ",1),a("button",{type:"button",class:"multiselect-tag-remove",onClick:u=>K(l,u),disabled:n.disabled},[...t[2]||(t[2]=[a("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,z)]))),128)),n.searchable&&i.value?M((s(),o("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=l=>m.value=l),type:"text",class:"multiselect-search",placeholder:c.value.length===0?n.placeholder:"",onClick:t[1]||(t[1]=L(()=>{},["stop"]))},null,8,H)),[[q,m.value]]):c.value.length===0?(s(),o("span",P,v(n.placeholder),1)):d("",!0)]),a("div",Q,[(s(),o("svg",{class:g(["w-4 h-4 transition-transform",{"rotate-180":i.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[3]||(t[3]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],2),M(a("div",$,[x.value.length===0?(s(),o("div",G," No options found ")):d("",!0),(s(!0),o(S,null,B(x.value,l=>(s(),o("div",{key:p(l),class:g(["multiselect-option",{"multiselect-option-selected":w(l)}]),onClick:L(u=>j(l),["stop"])},[a("span",W,[w(l)?(s(),o("svg",X,[...t[4]||(t[4]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):d("",!0)]),y(" "+v(k(l)),1)],10,J))),128))],512),[[D,i.value]])]),n.error?(s(),o("p",Y,v(n.error),1)):d("",!0)],512))}},le=T(Z,[["__scopeId","data-v-c7ecd793"]]);export{le as M};
