import{o as b,b as S,d as h,e as x,f as B,h as I,g as e,t as d,n as c,i as p,m as F,j as q,F as C}from"./app-B4kXJm1R.js";import{_ as D}from"./AdminLayout-Dl7j7Lml.js";import{_ as g}from"./Card-CWZ0FrNR.js";import"./UserGroupIcon-CyxjldZw.js";import"./ArrowLeftIcon-C4pIvMX3.js";import"./TrashIcon-CSwwSb2h.js";import"./DemoBanner-5gPpdzaD.js";import"./XMarkIcon-BknwjWvY.js";import"./TagIcon-D0dlpqbY.js";import"./index-CSEUMRIG.js";import"./keyboard-BDssWLgB.js";const H={class:"space-y-6"},M={class:"flex items-center justify-between"},N={class:"text-secondary-600 dark:text-secondary-400 mt-1"},V={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},A={class:"flex items-center justify-between w-full"},E={class:"font-semibold"},P={class:"space-y-2"},W={class:"flex justify-between text-sm"},$={class:"font-medium dark:text-white"},z={class:"flex justify-between text-sm"},L={class:"font-medium dark:text-white"},O={class:"flex items-center justify-between w-full"},R={class:"font-semibold"},G={class:"space-y-2"},J={class:"flex justify-between text-sm"},K={class:"font-medium dark:text-white"},Q={class:"text-sm text-secondary-500"},T={class:"flex items-center justify-between w-full"},U={class:"font-semibold"},X={class:"space-y-2"},Y={class:"flex justify-between text-sm"},Z={class:"font-medium dark:text-white"},_={class:"text-sm text-secondary-500"},ee={class:"flex items-center justify-between w-full"},te={class:"font-semibold"},se={class:"space-y-2"},ae={class:"flex justify-between text-sm"},de={class:"font-medium dark:text-white"},le={class:"flex items-center justify-between w-full"},ne={class:"font-semibold"},ie={class:"space-y-2"},he={class:"flex justify-between text-sm"},oe={class:"font-medium dark:text-white"},ce={key:0,class:"text-sm text-red-500"},re={class:"flex items-center justify-between w-full"},me={class:"font-semibold"},ue={key:0,class:"text-sm text-red-500"},xe={key:1,class:"text-sm text-secondary-500"},fe={class:"flex items-center justify-between w-full"},ge={class:"font-semibold"},ye={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3"},be={class:"text-sm font-medium dark:text-white"},pe={class:"flex items-center justify-between w-full"},we={class:"font-semibold"},ke={class:"space-y-3"},ve={class:"font-medium dark:text-white"},je={class:"text-xs text-secondary-500 font-mono"},Ae={__name:"Index",props:{title:{type:String,default:"System Health"},health:{type:Object,required:!0}},setup(t){const y=t,r=u=>u?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",m=u=>u?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30",f=u=>u?"✓":"✗",w=()=>{var a,s,l,n,i,k,v,j;const u=[(a=y.health.php)==null?void 0:a.passed,(s=y.health.extensions)==null?void 0:s.passed,(l=y.health.directories)==null?void 0:l.passed,(n=y.health.database)==null?void 0:n.passed,(i=y.health.cache)==null?void 0:i.passed,(k=y.health.queue)==null?void 0:k.passed,(v=y.health.mail)==null?void 0:v.passed,(j=y.health.storage)==null?void 0:j.passed],o=u.filter(Boolean).length;return{passed:o,total:u.length,percentage:Math.round(o/u.length*100)}};return(u,o)=>(b(),S(D,{title:t.title},{default:h(()=>[x(B(I),{title:t.title},null,8,["title"]),e("div",H,[x(g,null,{default:h(()=>[e("div",M,[e("div",null,[o[0]||(o[0]=e("h2",{class:"text-2xl font-bold text-heading dark:text-white"}," System Health Status ",-1)),e("p",N,d(w().passed)+" of "+d(w().total)+" checks passed ",1)]),e("div",{class:c(["w-20 h-20 rounded-full flex items-center justify-center text-2xl font-bold",w().percentage===100?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":w().percentage>=70?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"])},d(w().percentage)+"% ",3)])]),_:1}),e("div",V,[x(g,null,{header:h(()=>{var a,s,l,n,i;return[e("div",A,[e("span",E,d((a=t.health.php)==null?void 0:a.name),1),e("span",{class:c([[m((s=t.health.php)==null?void 0:s.passed),r((l=t.health.php)==null?void 0:l.passed)],"px-2 py-1 rounded text-sm font-medium"])},d(f((n=t.health.php)==null?void 0:n.passed))+" "+d((i=t.health.php)!=null&&i.passed?"Passed":"Failed"),3)])]}),default:h(()=>{var a,s;return[e("div",P,[e("div",W,[o[1]||(o[1]=e("span",{class:"text-secondary-600 dark:text-secondary-400"},"Required:",-1)),e("span",$,d((a=t.health.php)==null?void 0:a.required),1)]),e("div",z,[o[2]||(o[2]=e("span",{class:"text-secondary-600 dark:text-secondary-400"},"Current:",-1)),e("span",L,d((s=t.health.php)==null?void 0:s.current),1)])])]}),_:1}),x(g,null,{header:h(()=>{var a,s,l,n,i;return[e("div",O,[e("span",R,d((a=t.health.database)==null?void 0:a.name),1),e("span",{class:c([[m((s=t.health.database)==null?void 0:s.passed),r((l=t.health.database)==null?void 0:l.passed)],"px-2 py-1 rounded text-sm font-medium"])},d(f((n=t.health.database)==null?void 0:n.passed))+" "+d((i=t.health.database)!=null&&i.passed?"Connected":"Failed"),3)])]}),default:h(()=>{var a,s;return[e("div",G,[e("div",J,[o[3]||(o[3]=e("span",{class:"text-secondary-600 dark:text-secondary-400"},"Driver:",-1)),e("span",K,d((a=t.health.database)==null?void 0:a.current),1)]),e("p",Q,d((s=t.health.database)==null?void 0:s.message),1)])]}),_:1}),x(g,null,{header:h(()=>{var a,s,l,n,i;return[e("div",T,[e("span",U,d((a=t.health.cache)==null?void 0:a.name),1),e("span",{class:c([[m((s=t.health.cache)==null?void 0:s.passed),r((l=t.health.cache)==null?void 0:l.passed)],"px-2 py-1 rounded text-sm font-medium"])},d(f((n=t.health.cache)==null?void 0:n.passed))+" "+d((i=t.health.cache)!=null&&i.passed?"Working":"Failed"),3)])]}),default:h(()=>{var a,s;return[e("div",X,[e("div",Y,[o[4]||(o[4]=e("span",{class:"text-secondary-600 dark:text-secondary-400"},"Driver:",-1)),e("span",Z,d((a=t.health.cache)==null?void 0:a.current),1)]),e("p",_,d((s=t.health.cache)==null?void 0:s.message),1)])]}),_:1}),x(g,null,{header:h(()=>{var a,s,l,n,i;return[e("div",ee,[e("span",te,d((a=t.health.queue)==null?void 0:a.name),1),e("span",{class:c([[m((s=t.health.queue)==null?void 0:s.passed),r((l=t.health.queue)==null?void 0:l.passed)],"px-2 py-1 rounded text-sm font-medium"])},d(f((n=t.health.queue)==null?void 0:n.passed))+" "+d((i=t.health.queue)!=null&&i.passed?"Configured":"Issue"),3)])]}),default:h(()=>{var a;return[e("div",se,[e("div",ae,[o[5]||(o[5]=e("span",{class:"text-secondary-600 dark:text-secondary-400"},"Driver:",-1)),e("span",de,d((a=t.health.queue)==null?void 0:a.current),1)])])]}),_:1}),x(g,null,{header:h(()=>{var a,s,l,n,i;return[e("div",le,[e("span",ne,d((a=t.health.mail)==null?void 0:a.name),1),e("span",{class:c([[m((s=t.health.mail)==null?void 0:s.passed),r((l=t.health.mail)==null?void 0:l.passed)],"px-2 py-1 rounded text-sm font-medium"])},d(f((n=t.health.mail)==null?void 0:n.passed))+" "+d((i=t.health.mail)!=null&&i.passed?"Configured":"Issue"),3)])]}),default:h(()=>{var a,s,l;return[e("div",ie,[e("div",he,[o[6]||(o[6]=e("span",{class:"text-secondary-600 dark:text-secondary-400"},"Mailer:",-1)),e("span",oe,d((a=t.health.mail)==null?void 0:a.current),1)]),(s=t.health.mail)!=null&&s.passed?F("",!0):(b(),p("p",ce,d((l=t.health.mail)==null?void 0:l.message),1))])]}),_:1}),x(g,null,{header:h(()=>{var a,s,l,n,i;return[e("div",re,[e("span",me,d((a=t.health.storage)==null?void 0:a.name),1),e("span",{class:c([[m((s=t.health.storage)==null?void 0:s.passed),r((l=t.health.storage)==null?void 0:l.passed)],"px-2 py-1 rounded text-sm font-medium"])},d(f((n=t.health.storage)==null?void 0:n.passed))+" "+d((i=t.health.storage)==null?void 0:i.current),3)])]}),default:h(()=>{var a,s,l;return[(a=t.health.storage)!=null&&a.passed?(b(),p("p",xe,d((l=t.health.storage)==null?void 0:l.message),1)):(b(),p("p",ue,d((s=t.health.storage)==null?void 0:s.message),1))]}),_:1})]),x(g,null,{header:h(()=>{var a,s,l,n,i;return[e("div",fe,[e("span",ge,d((a=t.health.extensions)==null?void 0:a.name),1),e("span",{class:c([[m((s=t.health.extensions)==null?void 0:s.passed),r((l=t.health.extensions)==null?void 0:l.passed)],"px-2 py-1 rounded text-sm font-medium"])},d(f((n=t.health.extensions)==null?void 0:n.passed))+" "+d((i=t.health.extensions)!=null&&i.passed?"All Installed":"Missing Extensions"),3)])]}),default:h(()=>{var a;return[e("div",ye,[(b(!0),p(C,null,q((a=t.health.extensions)==null?void 0:a.items,s=>(b(),p("div",{key:s.name,class:c([[m(s.passed)],"px-3 py-2 rounded-lg flex items-center gap-2"])},[e("span",{class:c([r(s.passed),"font-bold"])},d(f(s.passed)),3),e("span",be,d(s.name),1)],2))),128))])]}),_:1}),x(g,null,{header:h(()=>{var a,s,l,n,i;return[e("div",pe,[e("span",we,d((a=t.health.directories)==null?void 0:a.name),1),e("span",{class:c([[m((s=t.health.directories)==null?void 0:s.passed),r((l=t.health.directories)==null?void 0:l.passed)],"px-2 py-1 rounded text-sm font-medium"])},d(f((n=t.health.directories)==null?void 0:n.passed))+" "+d((i=t.health.directories)!=null&&i.passed?"All Writable":"Permission Issues"),3)])]}),default:h(()=>{var a;return[e("div",ke,[(b(!0),p(C,null,q((a=t.health.directories)==null?void 0:a.items,s=>(b(),p("div",{key:s.name,class:c(["flex items-center justify-between p-3 rounded-lg",m(s.passed)])},[e("div",null,[e("span",ve,d(s.name),1),e("p",je,d(s.path),1)]),e("span",{class:c([r(s.passed),"font-medium"])},d(s.message),3)],2))),128))])]}),_:1})])]),_:1},8,["title"]))}};export{Ae as default};
