import{o as n,i as c,e as u,f as o,h as k,g as l,d as _,v as B,A as $,r as p,a as F,B as T,b as I,l as i,F as m,k as h,C as U}from"./app-B4kXJm1R.js";import{_ as x}from"./FormInput-DnkblmfP.js";import{q as b}from"./index-CSEUMRIG.js";const L={class:"min-h-screen flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-900 py-6 px-4"},N={class:"w-full max-w-md"},P={class:"text-center mb-8"},S={class:"bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8"},j={__name:"GuestLayout",props:{title:String},setup(e){return(s,t)=>(n(),c("div",L,[u(o(k),{title:e.title},null,8,["title"]),l("div",N,[l("div",P,[u(o(B),{href:"/",class:"inline-block"},{default:_(()=>[...t[0]||(t[0]=[l("span",{class:"text-2xl font-bold bg-gradient-to-r from-primary-500 to-purple-600 bg-clip-text text-transparent"}," Laraku ",-1)])]),_:1})]),l("div",S,[$(s.$slots,"default")])])]))}},a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/two-factor-challenge"};a.url=e=>a.definition.url+b(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const d=e=>({url:d.url(e),method:"post"});d.definition={methods:["post"],url:"/two-factor-challenge"};d.url=e=>d.definition.url+b(e);d.post=e=>({url:d.url(e),method:"post"});const q={create:a,store:d},R={class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},A={key:0},E={key:1},G={class:"flex items-center justify-end mt-4"},H={__name:"TwoFactorChallenge",setup(e){const s=p(!1),t=F({code:"",recovery_code:""}),g=p(null),v=p(null),w=async()=>{var f,r;s.value=!s.value,t.code="",t.recovery_code="",await U(),s.value?(f=v.value)==null||f.focus():(r=g.value)==null||r.focus()},C=()=>{t.post(q.store.url(),{onFinish:()=>t.reset()})};return(f,r)=>{const V=T("Button");return n(),I(j,null,{default:_(()=>[u(o(k),{title:"Two-factor Confirmation"}),l("div",R,[s.value?(n(),c(m,{key:1},[i(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(n(),c(m,{key:0},[i(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),l("form",{onSubmit:h(C,["prevent"])},[s.value?(n(),c("div",E,[u(x,{modelValue:o(t).recovery_code,"onUpdate:modelValue":r[1]||(r[1]=y=>o(t).recovery_code=y),id:"recovery_code",type:"text",label:"Recovery Code",ref_key:"recoveryCodeInput",ref:v,autocomplete:"one-time-code",error:o(t).errors.recovery_code},null,8,["modelValue","error"])])):(n(),c("div",A,[u(x,{modelValue:o(t).code,"onUpdate:modelValue":r[0]||(r[0]=y=>o(t).code=y),id:"code",type:"text",label:"Code",inputmode:"numeric",ref_key:"codeInput",ref:g,autofocus:"",autocomplete:"one-time-code",error:o(t).errors.code},null,8,["modelValue","error"])])),l("div",G,[l("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer dark:text-gray-400",onClick:h(w,["prevent"])},[s.value?(n(),c(m,{key:1},[i(" Use an authentication code ")],64)):(n(),c(m,{key:0},[i(" Use a recovery code ")],64))]),u(V,{class:"ml-4",loading:o(t).processing},{default:_(()=>[...r[2]||(r[2]=[i(" Log in ",-1)])]),_:1},8,["loading"])])],32)]),_:1})}}};export{H as default};
