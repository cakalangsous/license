import{c as N,o as b,i as y,g as d,y as h,z as M,n as C,t as p,m as $,u as q,a as E,r as _,b as F,d as o,e as a,f as s,h as L,l as f,k as T,p as I}from"./app-CXYNX7l5.js";import{k as j,_ as z}from"./AdminLayout-BzX5vIWh.js";import{_ as R}from"./Card-B-peCzvN.js";import{_ as v}from"./Button-D7awOZ5r.js";import{_ as O}from"./DataTable-CRkcl87X.js";import{_ as x}from"./FormInput-hNOoRqIu.js";import{_ as G}from"./FormTextarea-BpnU_9-o.js";import{_ as S}from"./Modal-MPsd-BTy.js";import{r as H}from"./TrashIcon-DePSIVFn.js";import"./UserGroupIcon-B_Y3lvxt.js";import"./ArrowLeftIcon-Bt2tPfv5.js";import"./DemoBanner-B-KdNamD.js";import"./XMarkIcon-CPBrcqh9.js";import"./TagIcon-C8r8ihxU.js";import"./index-CSEUMRIG.js";import"./keyboard-CcDRV2PE.js";const J={class:"flex items-start gap-3"},K={class:"flex h-6 items-center"},Q=["disabled"],W={class:"leading-6"},X={key:1,class:"text-sm text-secondary-500 dark:text-secondary-400"},Y={key:2,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Z={__name:"FormCheckbox",props:{modelValue:{type:Boolean,default:!1},label:{type:String,default:""},description:{type:String,default:""},error:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{emit:g}){const k=r,t=g,u=N({get:()=>k.modelValue,set:i=>t("update:modelValue",i)});return(i,m)=>(b(),y("div",J,[d("div",K,[h(d("input",{type:"checkbox","onUpdate:modelValue":m[0]||(m[0]=c=>u.value=c),disabled:r.disabled,class:C(["h-4 w-4 rounded border-secondary-300 text-primary shadow-sm focus:border-primary focus:ring focus:ring-primary/20 focus:ring-opacity-50 transition-colors duration-200 dark:border-secondary-600 dark:bg-secondary-800 dark:checked:bg-primary disabled:cursor-not-allowed disabled:opacity-60",{"border-red-500":r.error}])},null,10,Q),[[M,u.value]])]),d("div",W,[r.label?(b(),y("label",{key:0,class:C(["text-sm font-medium text-secondary-700 dark:text-secondary-300",{"cursor-not-allowed opacity-60":r.disabled}])},p(r.label),3)):$("",!0),r.description?(b(),y("p",X,p(r.description),1)):$("",!0),r.error?(b(),y("p",Y,p(r.error),1)):$("",!0)])]))}},ee={class:"flex items-center justify-between w-full"},te={class:"flex items-center gap-2"},le=["onClick"],se=["onClick"],ae={class:"grid grid-cols-2 gap-4"},ke={__name:"Index",props:{title:{type:String,default:"Products"},products:{type:Object,default:()=>({})}},setup(r){const g=q(),k=[{key:"name",label:"Name",sortable:!0},{key:"slug",label:"Slug",sortable:!0},{key:"regular_domains_limit",label:"Regular Limit",sortable:!1},{key:"extended_domains_limit",label:"Extended Limit",sortable:!1},{key:"is_active",label:"Status",sortable:!0},{key:"action",label:"Action",sortable:!1,searchable:!1}],t=E({name:"",slug:"",description:"",regular_domains_limit:1,extended_domains_limit:5,is_active:!0}),u=_(null),i=_(!1),m=_(!1),c=_(null),V=()=>{t.reset(),u.value=null},P=()=>{V(),i.value=!0},D=n=>{u.value=n.id,t.name=n.name,t.slug=n.slug,t.description=n.description||"",t.regular_domains_limit=n.regular_domains_limit,t.extended_domains_limit=n.extended_domains_limit,t.is_active=n.is_active,i.value=!0},w=()=>{u.value?t.put(`/admin/products/${u.value}`,{preserveScroll:!0,onSuccess:()=>{g.success("Product updated successfully"),i.value=!1,V()}}):t.post("/admin/products",{preserveScroll:!0,onSuccess:()=>{g.success("Product created successfully"),i.value=!1,V()}})},U=n=>{c.value=n,m.value=!0},A=()=>{c.value&&I.delete(`/admin/products/${c.value.id}`,{onSuccess:()=>{g.success("Product deleted successfully"),m.value=!1,c.value=null}})};return(n,e)=>(b(),F(z,{title:r.title},{default:o(()=>[a(s(L),{title:r.title},null,8,["title"]),a(R,null,{header:o(()=>[d("div",ee,[e[11]||(e[11]=d("span",{class:"font-semibold"},"Products",-1)),a(v,{onClick:P},{default:o(()=>[...e[10]||(e[10]=[f("Add Product",-1)])]),_:1})])]),default:o(()=>[a(O,{"paginated-data":r.products,columns:k},{"cell-is_active":o(({row:l})=>[d("span",{class:C(["px-2 py-1 rounded-full text-xs font-medium",l.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"])},p(l.is_active?"Active":"Inactive"),3)]),"cell-action":o(({row:l})=>[d("div",te,[d("button",{onClick:B=>D(l),class:"p-1.5 rounded hover:bg-secondary-100 dark:hover:bg-secondary-700 text-primary"},[a(s(j),{class:"w-5 h-5"})],8,le),d("button",{onClick:B=>U(l),class:"p-1.5 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-danger"},[a(s(H),{class:"w-5 h-5"})],8,se)])]),_:1},8,["paginated-data"])]),_:1}),a(S,{show:i.value,title:u.value?"Edit Product":"Add Product",onClose:e[7]||(e[7]=l=>i.value=!1)},{footer:o(()=>[a(v,{variant:"outline-secondary",onClick:e[6]||(e[6]=l=>i.value=!1),class:"mr-2"},{default:o(()=>[...e[12]||(e[12]=[f("Cancel",-1)])]),_:1}),a(v,{onClick:w,loading:s(t).processing},{default:o(()=>[f(p(u.value?"Update":"Create"),1)]),_:1},8,["loading"])]),default:o(()=>[d("form",{onSubmit:T(w,["prevent"]),class:"space-y-4"},[a(x,{modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).name=l),label:"Product Name",error:s(t).errors.name,required:""},null,8,["modelValue","error"]),a(x,{modelValue:s(t).slug,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).slug=l),label:"Slug",error:s(t).errors.slug,required:""},null,8,["modelValue","error"]),a(G,{modelValue:s(t).description,"onUpdate:modelValue":e[2]||(e[2]=l=>s(t).description=l),label:"Description",error:s(t).errors.description,rows:3},null,8,["modelValue","error"]),d("div",ae,[a(x,{modelValue:s(t).regular_domains_limit,"onUpdate:modelValue":e[3]||(e[3]=l=>s(t).regular_domains_limit=l),label:"Regular License Domains",type:"number",error:s(t).errors.regular_domains_limit,required:""},null,8,["modelValue","error"]),a(x,{modelValue:s(t).extended_domains_limit,"onUpdate:modelValue":e[4]||(e[4]=l=>s(t).extended_domains_limit=l),label:"Extended License Domains",type:"number",error:s(t).errors.extended_domains_limit,required:""},null,8,["modelValue","error"])]),a(Z,{modelValue:s(t).is_active,"onUpdate:modelValue":e[5]||(e[5]=l=>s(t).is_active=l),label:"Active"},null,8,["modelValue"])],32)]),_:1},8,["show","title"]),a(S,{show:m.value,title:"Delete Product",onClose:e[9]||(e[9]=l=>m.value=!1)},{footer:o(()=>[a(v,{variant:"outline-secondary",onClick:e[8]||(e[8]=l=>m.value=!1),class:"mr-2"},{default:o(()=>[...e[15]||(e[15]=[f("Cancel",-1)])]),_:1}),a(v,{variant:"danger",onClick:A},{default:o(()=>[...e[16]||(e[16]=[f("Delete",-1)])]),_:1})]),default:o(()=>{var l;return[d("p",null,[e[13]||(e[13]=f(" Are you sure you want to delete ",-1)),d("strong",null,p((l=c.value)==null?void 0:l.name),1),e[14]||(e[14]=f("? This will also remove all associated licenses. ",-1))])]}),_:1},8,["show"])]),_:1},8,["title"]))}};export{ke as default};
