import{a as y,c as d,o as c,b as V,d as i,e as l,g as u,f as r,l as p,v as b,k as w}from"./app-CXYNX7l5.js";import{_ as v}from"./AdminLayout-BzX5vIWh.js";import{_ as x}from"./Card-B-peCzvN.js";import{_}from"./Button-D7awOZ5r.js";import{_ as n}from"./FormInput-hNOoRqIu.js";import{M as k}from"./MultiSelect-CzQj2BaD.js";import{_ as U}from"./FileUpload-BlBx7xJu.js";import"./UserGroupIcon-B_Y3lvxt.js";import"./ArrowLeftIcon-Bt2tPfv5.js";import"./TrashIcon-DePSIVFn.js";import"./DemoBanner-B-KdNamD.js";import"./XMarkIcon-CPBrcqh9.js";import"./TagIcon-C8r8ihxU.js";import"./index-CSEUMRIG.js";import"./keyboard-CcDRV2PE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex items-center gap-3 pt-4"},z={__name:"Edit",props:{title:{type:String,default:"Edit User"},user:{type:Object,required:!0},roles:{type:Array,default:()=>[]},user_roles:{type:Array,default:()=>[]}},setup(m){const s=m,e=y({name:s.user.name,email:s.user.email,password:"",password_confirmation:"",roles:s.user_roles.map(t=>{var o;return(o=s.roles.find(a=>a.id===t))==null?void 0:o.name}).filter(Boolean),filepond:null});d(()=>s.roles.map(t=>({value:t.name,label:t.name})));const f=d(()=>s.user.avatar?s.user.avatar:null),g=()=>{e.put(`/admin/users/${s.user.id}`,{preserveScroll:!0})};return(t,o)=>(c(),V(v,{title:m.title},{default:i(()=>[l(x,{title:"Edit User",class:"max-w-2xl"},{default:i(()=>[u("form",{onSubmit:w(g,["prevent"]),class:"space-y-4"},[l(n,{modelValue:r(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>r(e).name=a),label:"Name",error:r(e).errors.name,required:""},null,8,["modelValue","error"]),l(n,{modelValue:r(e).email,"onUpdate:modelValue":o[1]||(o[1]=a=>r(e).email=a),label:"Email",type:"email",error:r(e).errors.email,required:""},null,8,["modelValue","error"]),l(U,{label:"Avatar (Leave empty if no changes)",modelValue:r(e).filepond,"onUpdate:modelValue":o[2]||(o[2]=a=>r(e).filepond=a),error:r(e).errors.filepond,"existing-files":f.value,"accepted-file-types":["image/jpeg","image/png","image/jpg"]},null,8,["modelValue","error","existing-files"]),l(n,{modelValue:r(e).password,"onUpdate:modelValue":o[3]||(o[3]=a=>r(e).password=a),label:"Password",type:"password",hint:"Leave empty if no changes",error:r(e).errors.password},null,8,["modelValue","error"]),l(n,{modelValue:r(e).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=a=>r(e).password_confirmation=a),label:"Confirm Password",type:"password",hint:"Leave empty if no changes for password",error:r(e).errors.password_confirmation},null,8,["modelValue","error"]),l(k,{modelValue:r(e).roles,"onUpdate:modelValue":o[5]||(o[5]=a=>r(e).roles=a),label:"Roles",options:m.roles,"value-key":"name","label-key":"name",placeholder:"Select roles...",error:r(e).errors.roles,required:""},null,8,["modelValue","options","error"]),u("div",S,[l(_,{type:"submit",loading:r(e).processing},{default:i(()=>[...o[6]||(o[6]=[p(" Save Changes ",-1)])]),_:1},8,["loading"]),l(r(b),{href:"/admin/users",class:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-secondary-800 dark:text-gray-300 dark:border-secondary-600 dark:hover:bg-secondary-700"},{default:i(()=>[...o[7]||(o[7]=[p(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1},8,["title"]))}};export{z as default};
