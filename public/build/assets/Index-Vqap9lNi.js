import{r as k,o as i,b as v,d as s,e as l,f as V,h as S,g as t,t as r,l as h,i as p,n as m,p as q}from"./app-CXYNX7l5.js";import{_ as w}from"./AdminLayout-BzX5vIWh.js";import{_ as u}from"./Card-B-peCzvN.js";import{_ as C}from"./DataTable-CRkcl87X.js";import{_ as g}from"./FormSelect-CVaVm0qW.js";import{_ as f}from"./FormInput-hNOoRqIu.js";import"./UserGroupIcon-B_Y3lvxt.js";import"./ArrowLeftIcon-Bt2tPfv5.js";import"./TrashIcon-DePSIVFn.js";import"./DemoBanner-B-KdNamD.js";import"./XMarkIcon-CPBrcqh9.js";import"./TagIcon-C8r8ihxU.js";import"./index-CSEUMRIG.js";import"./keyboard-CcDRV2PE.js";const L={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},T={class:"text-center"},A={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},D={class:"text-center"},U={class:"text-2xl font-bold text-green-600 dark:text-green-400"},$={class:"text-center"},B={class:"text-2xl font-bold text-red-600 dark:text-red-400"},j={class:"text-center"},z={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},F={class:"flex items-center justify-between w-full flex-wrap gap-4"},N={class:"flex items-center gap-2 flex-wrap"},I={key:0,class:"font-medium text-sm"},O={key:1,class:"text-secondary-400"},R={class:"font-mono text-sm"},E={class:"font-mono text-xs text-secondary-500"},H=["title"],P={key:1,class:"text-secondary-400"},re={__name:"Index",props:{title:{type:String,default:"Verification Logs"},logs:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({})}},setup(n){const x=[{key:"created_at",label:"Time",sortable:!0},{key:"app_name",label:"App",sortable:!0},{key:"domain",label:"Domain",sortable:!0},{key:"ip_address",label:"IP Address",sortable:!1},{key:"request_type",label:"Type",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"failure_reason",label:"Reason",sortable:!1}],o=k({status:"",request_type:"",date_from:"",date_to:""}),c=()=>{q.get("/admin/verification-logs",o.value,{preserveState:!0,preserveScroll:!0})},_=d=>d?new Date(d).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",b=d=>{switch(d){case"success":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},y=d=>{switch(d){case"verify":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"activate":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"deactivate":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"heartbeat":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};return(d,a)=>(i(),v(w,{title:n.title},{default:s(()=>[l(V(S),{title:n.title},null,8,["title"]),t("div",L,[l(u,{class:"bg-gradient-to-br from-blue-500/10 to-blue-500/5"},{default:s(()=>{var e;return[t("div",T,[t("p",A,r((e=n.stats.total_requests)==null?void 0:e.toLocaleString()),1),a[4]||(a[4]=t("p",{class:"text-sm text-secondary-600 dark:text-secondary-400"}," Total Requests ",-1))])]}),_:1}),l(u,{class:"bg-gradient-to-br from-green-500/10 to-green-500/5"},{default:s(()=>{var e;return[t("div",D,[t("p",U,r((e=n.stats.success_count)==null?void 0:e.toLocaleString()),1),a[5]||(a[5]=t("p",{class:"text-sm text-secondary-600 dark:text-secondary-400"}," Successful ",-1))])]}),_:1}),l(u,{class:"bg-gradient-to-br from-red-500/10 to-red-500/5"},{default:s(()=>{var e;return[t("div",$,[t("p",B,r((e=n.stats.failed_count)==null?void 0:e.toLocaleString()),1),a[6]||(a[6]=t("p",{class:"text-sm text-secondary-600 dark:text-secondary-400"}," Failed ",-1))])]}),_:1}),l(u,{class:"bg-gradient-to-br from-purple-500/10 to-purple-500/5"},{default:s(()=>{var e;return[t("div",j,[t("p",z,r((e=n.stats.today_count)==null?void 0:e.toLocaleString()),1),a[7]||(a[7]=t("p",{class:"text-sm text-secondary-600 dark:text-secondary-400"}," Today ",-1))])]}),_:1})]),l(u,null,{header:s(()=>[t("div",F,[a[10]||(a[10]=t("span",{class:"font-semibold"},"Verification Logs",-1)),t("div",N,[l(g,{modelValue:o.value.status,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.status=e),class:"w-32",onChange:c},{default:s(()=>[...a[8]||(a[8]=[t("option",{value:""},"All Status",-1),t("option",{value:"success"},"Success",-1),t("option",{value:"failed"},"Failed",-1)])]),_:1},8,["modelValue"]),l(g,{modelValue:o.value.request_type,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.request_type=e),class:"w-32",onChange:c},{default:s(()=>[...a[9]||(a[9]=[t("option",{value:""},"All Types",-1),t("option",{value:"verify"},"Verify",-1),t("option",{value:"activate"},"Activate",-1),t("option",{value:"deactivate"},"Deactivate",-1),t("option",{value:"heartbeat"},"Heartbeat",-1)])]),_:1},8,["modelValue"]),l(f,{modelValue:o.value.date_from,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.date_from=e),type:"date",class:"w-40",onChange:c},null,8,["modelValue"]),l(f,{modelValue:o.value.date_to,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.date_to=e),type:"date",class:"w-40",onChange:c},null,8,["modelValue"])])])]),default:s(()=>[l(C,{"paginated-data":n.logs,columns:x,"show-actions":!1},{"cell-created_at":s(({row:e})=>[h(r(_(e.created_at)),1)]),"cell-app_name":s(({row:e})=>[e.app_name?(i(),p("span",I,r(e.app_name),1)):(i(),p("span",O,"-"))]),"cell-domain":s(({row:e})=>[t("span",R,r(e.domain),1)]),"cell-ip_address":s(({row:e})=>[t("span",E,r(e.ip_address),1)]),"cell-request_type":s(({row:e})=>[t("span",{class:m(["px-2 py-1 rounded-full text-xs font-medium capitalize",y(e.request_type)])},r(e.request_type),3)]),"cell-status":s(({row:e})=>[t("span",{class:m(["px-2 py-1 rounded-full text-xs font-medium capitalize",b(e.status)])},r(e.status),3)]),"cell-failure_reason":s(({row:e})=>[e.failure_reason?(i(),p("span",{key:0,class:"text-xs text-red-500 truncate max-w-[200px] block",title:e.failure_reason},r(e.failure_reason),9,H)):(i(),p("span",P,"-"))]),_:1},8,["paginated-data"])]),_:1})]),_:1},8,["title"]))}};export{re as default};
