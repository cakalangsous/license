import{c as P,o as n,i as m,g as s,n as j,a as k,b as N,d as p,e as i,t as u,m as f,j as y,F as x,k as V,f as r,y as S,S as h,l as z}from"./app-B4kXJm1R.js";import{_ as q}from"./AdminLayout-Dl7j7Lml.js";import{_ as b}from"./Card-CWZ0FrNR.js";import{_ as U}from"./Button-BorMZ65S.js";import{_ as c}from"./FormInput-DnkblmfP.js";import{_ as C}from"./FileUpload-BiXrg1Xz.js";import L from"./TwoFactorAuthentication-Dxq4yfRj.js";import"./UserGroupIcon-CyxjldZw.js";import"./ArrowLeftIcon-C4pIvMX3.js";import"./TrashIcon-CSwwSb2h.js";import"./DemoBanner-5gPpdzaD.js";import"./XMarkIcon-BknwjWvY.js";import"./TagIcon-D0dlpqbY.js";import"./index-CSEUMRIG.js";import"./keyboard-BDssWLgB.js";import"./Modal-D0MHrs78.js";const A=["src","alt"],B="/assets/images/faces/2.jpg",F={__name:"Avatar",props:{src:String,alt:{type:String,default:"Avatar"},size:{type:String,default:"md",validator:o=>["sm","md","lg","xl","2xl"].includes(o)}},setup(o){const d=o,a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16","2xl":"w-24 h-24"},l=P(()=>d.src||B);return(g,v)=>(n(),m("div",{class:j(["avatar",a[o.size]])},[s("img",{src:l.value,alt:o.alt,class:"w-full h-full object-cover rounded-full"},null,8,A)],2))}},D={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},E={class:"flex flex-col items-center text-center"},M={class:"mt-4 text-xl font-bold text-heading dark:text-white"},T={class:"text-secondary-500"},W={key:0,class:"text-sm text-secondary-400 mt-2"},O={class:"mt-4 w-full"},R={class:"p-3 bg-gray-50 dark:bg-secondary-800 rounded-lg text-left"},G={class:"flex flex-wrap gap-1 mt-1"},H={class:"lg:col-span-2 space-y-6"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},J={class:"mb-4"},K=["value"],Q={key:0,class:"mt-1 text-sm text-red-600"},X={class:"mb-4"},Y=["value"],Z={key:0,class:"mt-1 text-sm text-red-600"},ee={class:"mb-4"},re={class:"flex justify-end pt-4"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},te={class:"flex justify-end pt-4"},we={__name:"Edit",props:{title:{type:String,default:"My Profile"},user:{type:Object,required:!0}},setup(o){const d=o,a=k({name:d.user.name,email:d.user.email,avatar:null,filepond:null,timezone:d.user.timezone||"",locale:d.user.locale||""}),l=k({current_password:"",password:"",password_confirmation:""}),g=P(()=>d.user.avatar?d.user.avatar.startsWith("http")||d.user.avatar.startsWith("/")?d.user.avatar:"/"+d.user.avatar:"/assets/images/faces/2.jpg"),v=()=>{a.post("/admin/profile/update",{preserveScroll:!0,onSuccess:()=>{}})},$=()=>{l.put("/admin/profile/password",{preserveScroll:!0,onSuccess:()=>l.reset()})};return(w,e)=>(n(),N(q,{title:o.title},{default:p(()=>[s("div",D,[i(b,{class:"lg:col-span-1"},{default:p(()=>[s("div",E,[i(F,{src:g.value,size:"2xl",alt:o.user.name},null,8,["src","alt"]),s("h3",M,u(o.user.name),1),s("p",T,u(o.user.email),1),o.user.last_login?(n(),m("p",W," Last login: "+u(new Date(o.user.last_login).toLocaleString()),1)):f("",!0),s("div",O,[s("div",R,[e[8]||(e[8]=s("span",{class:"text-xs uppercase font-semibold text-gray-500"},"Roles",-1)),s("div",G,[(n(!0),m(x,null,y(o.user.roles,t=>(n(),m("span",{key:t.id,class:"px-2 py-0.5 text-xs rounded-full bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300"},u(t.name),1))),128))])])])])]),_:1}),s("div",H,[i(b,{title:"Profile Settings"},{default:p(()=>[s("form",{onSubmit:V(v,["prevent"]),class:"space-y-4"},[i(c,{modelValue:r(a).name,"onUpdate:modelValue":e[0]||(e[0]=t=>r(a).name=t),label:"Name",error:r(a).errors.name,required:""},null,8,["modelValue","error"]),i(c,{modelValue:r(a).email,"onUpdate:modelValue":e[1]||(e[1]=t=>r(a).email=t),label:"Email",type:"email",error:r(a).errors.email,required:""},null,8,["modelValue","error"]),s("div",I,[s("div",J,[e[10]||(e[10]=s("label",{class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Timezone",-1)),S(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>r(a).timezone=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},[e[9]||(e[9]=s("option",{value:"",disabled:""}," Select Timezone ",-1)),(n(!0),m(x,null,y(w.$page.props.timezones,t=>(n(),m("option",{key:t,value:t},u(t),9,K))),128))],512),[[h,r(a).timezone]]),r(a).errors.timezone?(n(),m("p",Q,u(r(a).errors.timezone),1)):f("",!0)]),s("div",X,[e[12]||(e[12]=s("label",{class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Locale",-1)),S(s("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>r(a).locale=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},[e[11]||(e[11]=s("option",{value:"",disabled:""}," Select Locale ",-1)),(n(!0),m(x,null,y(w.$page.props.locales,(t,_)=>(n(),m("option",{key:_,value:_},u(t),9,Y))),128))],512),[[h,r(a).locale]]),r(a).errors.locale?(n(),m("p",Z,u(r(a).errors.locale),1)):f("",!0)])]),s("div",ee,[i(C,{label:"Avatar",modelValue:r(a).filepond,"onUpdate:modelValue":e[4]||(e[4]=t=>r(a).filepond=t),error:r(a).errors.filepond,"existing-files":g.value,"accepted-file-types":["image/jpeg","image/png","image/jpg"]},null,8,["modelValue","error","existing-files"])]),s("div",re,[i(U,{type:"submit",loading:r(a).processing},{default:p(()=>[...e[13]||(e[13]=[z(" Save Profile ",-1)])]),_:1},8,["loading"])])],32)]),_:1}),i(b,{title:"Update Password"},{default:p(()=>[s("form",{onSubmit:V($,["prevent"]),class:"space-y-4"},[i(c,{modelValue:r(l).current_password,"onUpdate:modelValue":e[5]||(e[5]=t=>r(l).current_password=t),label:"Current Password",type:"password",error:r(l).errors.current_password,required:""},null,8,["modelValue","error"]),s("div",se,[i(c,{modelValue:r(l).password,"onUpdate:modelValue":e[6]||(e[6]=t=>r(l).password=t),label:"New Password",type:"password",error:r(l).errors.password,required:""},null,8,["modelValue","error"]),i(c,{modelValue:r(l).password_confirmation,"onUpdate:modelValue":e[7]||(e[7]=t=>r(l).password_confirmation=t),label:"Confirm New Password",type:"password",error:r(l).errors.password_confirmation,required:""},null,8,["modelValue","error"])]),s("div",te,[i(U,{type:"submit",loading:r(l).processing},{default:p(()=>[...e[14]||(e[14]=[z(" Update Password ",-1)])]),_:1},8,["loading"])])],32)]),_:1}),i(L,{user:o.user},null,8,["user"])])])]),_:1},8,["title"]))}};export{we as default};
