import{r as V,o as m,b as w,d as l,e as o,f as S,h,g as a,t as s,i as f,j as x,F as y,l as _,p as U}from"./app-B4kXJm1R.js";import{_ as C}from"./AdminLayout-Dl7j7Lml.js";import{_ as c}from"./Card-CWZ0FrNR.js";import{_ as D}from"./DataTable-CQkKoL2v.js";import{_ as b}from"./FormSelect-BRGdU3AD.js";import{_ as g}from"./FormInput-DnkblmfP.js";import"./UserGroupIcon-CyxjldZw.js";import"./ArrowLeftIcon-C4pIvMX3.js";import"./TrashIcon-CSwwSb2h.js";import"./DemoBanner-5gPpdzaD.js";import"./XMarkIcon-BknwjWvY.js";import"./TagIcon-D0dlpqbY.js";import"./index-CSEUMRIG.js";import"./keyboard-BDssWLgB.js";const F={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},N={class:"text-center"},$={class:"text-2xl font-bold text-primary"},j={class:"text-center"},A={class:"text-2xl font-bold text-green-600 dark:text-green-400"},B={class:"text-center"},M={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},T={class:"text-center"},I={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},L={class:"flex items-center justify-between w-full flex-wrap gap-4"},O={class:"flex items-center gap-2 flex-wrap"},P=["value"],E=["value"],G={class:"text-red-500"},R={class:"font-semibold text-green-600 dark:text-green-400"},se={__name:"Index",props:{title:{type:String,default:"Sales"},sales:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({})},products:{type:Array,default:()=>[]},marketplaces:{type:Array,default:()=>[]}},setup(r){const k=[{key:"sale_date",label:"Date",sortable:!0},{key:"product",label:"Product",sortable:!1},{key:"marketplace",label:"Marketplace",sortable:!1},{key:"gross_amount",label:"Gross",sortable:!0},{key:"marketplace_fee",label:"Fee",sortable:!1},{key:"net_amount",label:"Net",sortable:!0}],n=V({marketplace_id:"",product_id:"",date_from:"",date_to:""}),p=()=>{U.get("/admin/sales",n.value,{preserveState:!0,preserveScroll:!0})},d=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u||0),v=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return(u,t)=>(m(),w(C,{title:r.title},{default:l(()=>[o(S(h),{title:r.title},null,8,["title"]),a("div",F,[o(c,{class:"bg-linear-to-br from-primary/10 to-primary/5"},{default:l(()=>[a("div",N,[a("p",$,s(d(r.stats.total_revenue)),1),t[4]||(t[4]=a("p",{class:"text-sm text-secondary-600 dark:text-secondary-400"}," Total Revenue ",-1))])]),_:1}),o(c,{class:"bg-linear-to-br from-green-500/10 to-green-500/5"},{default:l(()=>[a("div",j,[a("p",A,s(d(r.stats.this_month)),1),t[5]||(t[5]=a("p",{class:"text-sm text-secondary-600 dark:text-secondary-400"}," This Month ",-1))])]),_:1}),o(c,{class:"bg-linear-to-br from-blue-500/10 to-blue-500/5"},{default:l(()=>[a("div",B,[a("p",M,s(r.stats.total_sales),1),t[6]||(t[6]=a("p",{class:"text-sm text-secondary-600 dark:text-secondary-400"}," Total Sales ",-1))])]),_:1}),o(c,{class:"bg-linear-to-br from-orange-500/10 to-orange-500/5"},{default:l(()=>[a("div",T,[a("p",I,s(d(r.stats.marketplace_fees)),1),t[7]||(t[7]=a("p",{class:"text-sm text-secondary-600 dark:text-secondary-400"}," Marketplace Fees ",-1))])]),_:1})]),o(c,null,{header:l(()=>[a("div",L,[t[10]||(t[10]=a("span",{class:"font-semibold"},"Sales",-1)),a("div",O,[o(b,{modelValue:n.value.marketplace_id,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value.marketplace_id=e),class:"w-40",onChange:p},{default:l(()=>[t[8]||(t[8]=a("option",{value:""},"All Marketplaces",-1)),(m(!0),f(y,null,x(r.marketplaces,e=>(m(),f("option",{key:e.id,value:e.id},s(e.name),9,P))),128))]),_:1},8,["modelValue"]),o(b,{modelValue:n.value.product_id,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value.product_id=e),class:"w-40",onChange:p},{default:l(()=>[t[9]||(t[9]=a("option",{value:""},"All Products",-1)),(m(!0),f(y,null,x(r.products,e=>(m(),f("option",{key:e.id,value:e.id},s(e.name),9,E))),128))]),_:1},8,["modelValue"]),o(g,{modelValue:n.value.date_from,"onUpdate:modelValue":t[2]||(t[2]=e=>n.value.date_from=e),type:"date",class:"w-40",onChange:p},null,8,["modelValue"]),o(g,{modelValue:n.value.date_to,"onUpdate:modelValue":t[3]||(t[3]=e=>n.value.date_to=e),type:"date",class:"w-40",onChange:p},null,8,["modelValue"])])])]),default:l(()=>[o(D,{"paginated-data":r.sales,columns:k,"show-actions":!1},{"cell-sale_date":l(({row:e})=>[_(s(v(e.sale_date)),1)]),"cell-product":l(({row:e})=>{var i;return[_(s(((i=e.product)==null?void 0:i.name)||"-"),1)]}),"cell-marketplace":l(({row:e})=>{var i;return[_(s(((i=e.marketplace)==null?void 0:i.name)||"-"),1)]}),"cell-gross_amount":l(({row:e})=>[_(s(d(e.gross_amount)),1)]),"cell-marketplace_fee":l(({row:e})=>[a("span",G," -"+s(d(e.marketplace_fee)),1)]),"cell-net_amount":l(({row:e})=>[a("span",R,s(d(e.net_amount)),1)]),_:1},8,["paginated-data"])]),_:1})]),_:1},8,["title"]))}};export{se as default};
