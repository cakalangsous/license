import{u as v,a as h,o as i,b as U,d as m,e as a,f as e,h as S,g as r,t as u,i as n,m as p,y as c,z as $,K as b,l as C,k as M}from"./app-CXYNX7l5.js";import{_ as P}from"./AdminLayout-BzX5vIWh.js";import{_ as f}from"./Card-B-peCzvN.js";import{_ as T}from"./Button-D7awOZ5r.js";import{_ as g}from"./FormInput-hNOoRqIu.js";import{_}from"./FormSelect-CVaVm0qW.js";import{M as B}from"./MultiSelect-CzQj2BaD.js";import{_ as D}from"./RichEditor-NYsp1htD.js";import{_ as E}from"./FileUpload-BlBx7xJu.js";import{p as I}from"./index-DVYwyeaM.js";import"./UserGroupIcon-B_Y3lvxt.js";import"./ArrowLeftIcon-Bt2tPfv5.js";import"./TrashIcon-DePSIVFn.js";import"./DemoBanner-B-KdNamD.js";import"./XMarkIcon-CPBrcqh9.js";import"./TagIcon-C8r8ihxU.js";import"./index-CSEUMRIG.js";import"./keyboard-CcDRV2PE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"grid grid-cols-1 lg:grid-cols-12 gap-6"},q={class:"lg:col-span-8"},A={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 pb-0"},K={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},j={class:"p-6"},O={class:"space-y-4"},z={class:"lg:col-span-4"},F={class:"p-6 space-y-4"},G={key:0,class:"mb-2"},H=["src"],J={class:"flex items-center my-4"},L={class:""},Q={key:0,class:"mt-1 text-sm text-red-600"},R={class:""},W={key:0,class:"mt-1 text-sm text-red-600"},X={class:"mt-6"},_e={__name:"Edit",props:{title:{type:String,default:"Edit Post"},post:Object,tags_selected:Array,categories:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]}},setup(d){const l=d,x=v(),t=h({title:l.post.title,slug:l.post.slug,body:l.post.body,excerpt:l.post.excerpt,category:l.post.post_category_id,tags:l.tags_selected,image:"",allow_comments:!!l.post.allow_comments,meta_description:l.post.meta_description,meta_keywords:l.post.meta_keywords,publish_status:l.post.publish_status==="Published"?1:0}),k=()=>{},V=()=>{t.put(I.update.url({post:l.post.id}),{onSuccess:()=>{x.success("Post updated successfully")}})},w=[{value:0,label:"Draft"},{value:1,label:"Publish"}],y=l.post.image?`/storage/${l.post.image}`:null;return(Y,o)=>(i(),U(P,{title:d.title},{default:m(()=>[a(e(S),{title:d.title},null,8,["title"]),r("form",{onSubmit:M(V,["prevent"])},[r("div",N,[r("div",q,[a(f,{class:"mb-4"},{default:m(()=>[r("div",A,[r("h4",K,u(d.title),1)]),r("div",j,[r("div",O,[a(g,{modelValue:e(t).title,"onUpdate:modelValue":o[0]||(o[0]=s=>e(t).title=s),label:"Title",placeholder:"Post Title",required:"",error:e(t).errors.title,onInput:k},null,8,["modelValue","error"]),a(D,{modelValue:e(t).body,"onUpdate:modelValue":o[1]||(o[1]=s=>e(t).body=s),label:"Body",error:e(t).errors.body},null,8,["modelValue","error"])])])]),_:1})]),r("div",z,[a(f,{class:"mb-4"},{default:m(()=>[r("div",F,[a(g,{modelValue:e(t).slug,"onUpdate:modelValue":o[2]||(o[2]=s=>e(t).slug=s),label:"Slug",placeholder:"slug",required:"",error:e(t).errors.slug},null,8,["modelValue","error"]),e(y)?(i(),n("div",G,[o[11]||(o[11]=r("p",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Current Image ",-1)),r("img",{src:e(y),alt:"Current Image",class:"w-full h-auto rounded-md shadow-sm"},null,8,H)])):p("",!0),a(E,{modelValue:e(t).image,"onUpdate:modelValue":o[3]||(o[3]=s=>e(t).image=s),label:"Update Image",error:e(t).errors.image},null,8,["modelValue","error"]),a(_,{modelValue:e(t).category,"onUpdate:modelValue":o[4]||(o[4]=s=>e(t).category=s),label:"Category",options:d.categories,"value-key":"id","label-key":"name",placeholder:"Select Category",required:"",error:e(t).errors.category},null,8,["modelValue","options","error"]),a(B,{modelValue:e(t).tags,"onUpdate:modelValue":o[5]||(o[5]=s=>e(t).tags=s),label:"Tags",options:d.tags,"value-key":"id","label-key":"name",placeholder:"Select tags...",error:e(t).errors.tags},null,8,["modelValue","options","error"]),r("div",J,[c(r("input",{class:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500",type:"checkbox",id:"allow_comments","onUpdate:modelValue":o[6]||(o[6]=s=>e(t).allow_comments=s)},null,512),[[$,e(t).allow_comments]]),o[12]||(o[12]=r("label",{class:"ml-2 text-sm text-gray-900 dark:text-gray-100",for:"allow_comments"}," Switch off to disable comments ",-1))]),r("div",L,[o[13]||(o[13]=r("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Excerpt",-1)),c(r("textarea",{"onUpdate:modelValue":o[7]||(o[7]=s=>e(t).excerpt=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-secondary-800 dark:border-secondary-600 dark:text-white",rows:"3"},null,512),[[b,e(t).excerpt]]),e(t).errors.excerpt?(i(),n("p",Q,u(e(t).errors.excerpt),1)):p("",!0)]),r("div",R,[o[14]||(o[14]=r("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Meta Description",-1)),c(r("textarea",{"onUpdate:modelValue":o[8]||(o[8]=s=>e(t).meta_description=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-secondary-800 dark:border-secondary-600 dark:text-white",rows:"3"},null,512),[[b,e(t).meta_description]]),e(t).errors.meta_description?(i(),n("p",W,u(e(t).errors.meta_description),1)):p("",!0)]),a(g,{modelValue:e(t).meta_keywords,"onUpdate:modelValue":o[9]||(o[9]=s=>e(t).meta_keywords=s),label:"Meta Keywords",placeholder:"Keywords",error:e(t).errors.meta_keywords},null,8,["modelValue","error"]),a(_,{modelValue:e(t).publish_status,"onUpdate:modelValue":o[10]||(o[10]=s=>e(t).publish_status=s),label:"Publish Status",options:w,error:e(t).errors.publish_status},null,8,["modelValue","error"]),r("div",X,[a(T,{type:"submit",class:"w-full justify-center",loading:e(t).processing},{default:m(()=>[...o[15]||(o[15]=[C(" Update ",-1)])]),_:1},8,["loading"])])])]),_:1})])])],32)]),_:1},8,["title"]))}};export{_e as default};
