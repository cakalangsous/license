import{u as k,r as p,o as $,b as P,d as t,e as l,f as u,h as w,g as r,l as a,t as b,p as C}from"./app-CXYNX7l5.js";import{_ as x}from"./AdminLayout-BzX5vIWh.js";import{_ as D}from"./Card-B-peCzvN.js";import{_ as f}from"./Button-D7awOZ5r.js";import{_ as v}from"./LinkButton-DRNAIbjn.js";import{_ as T}from"./DataTable-CRkcl87X.js";import{_ as A}from"./Badge-C9_rjLRC.js";import{_ as N}from"./Modal-MPsd-BTy.js";import{p as d}from"./index-DVYwyeaM.js";import"./UserGroupIcon-B_Y3lvxt.js";import"./ArrowLeftIcon-Bt2tPfv5.js";import"./TrashIcon-DePSIVFn.js";import"./DemoBanner-B-KdNamD.js";import"./XMarkIcon-CPBrcqh9.js";import"./TagIcon-C8r8ihxU.js";import"./index-CSEUMRIG.js";import"./keyboard-CcDRV2PE.js";const S={class:"w-full flex items-center justify-between"},B={class:"flex items-center gap-2"},W={__name:"Index",props:{title:{type:String,default:"Posts"},paginatedPosts:{type:Object,default:()=>({})}},setup(n){const _=k(),c=[{key:"title",label:"Title",sortable:!0},{key:"category",label:"Category",sortable:!1},{key:"tags",label:"Tags",sortable:!1},{key:"publish_status",label:"Status",sortable:!1},{key:"published_at",label:"Published At",sortable:!0},{key:"action",label:"Action",sortable:!1,searchable:!1}],o=p(!1),i=p(null),y=m=>{i.value=m,o.value=!0},g=()=>{i.value&&C.delete(d.destroy.url({post:i.value.id}),{onSuccess:()=>{_.success("Post deleted successfully"),o.value=!1,i.value=null}})};return(m,e)=>($(),P(x,{title:n.title},{default:t(()=>[l(u(w),{title:n.title},null,8,["title"]),l(D,null,{header:t(()=>[r("div",S,[e[3]||(e[3]=r("span",{class:"font-semibold"},"All Posts",-1)),l(v,{href:u(d).create.url(),variant:"primary"},{default:t(()=>[...e[2]||(e[2]=[a(" Add New ",-1)])]),_:1},8,["href"])])]),default:t(()=>[l(T,{"paginated-data":n.paginatedPosts,columns:c},{"cell-publish_status":t(({value:s})=>[l(A,{variant:s==="Published"?"success":"warning"},{default:t(()=>[a(b(s),1)]),_:2},1032,["variant"])]),"cell-action":t(({row:s})=>[r("div",B,[l(v,{href:u(d).edit.url({post:s.id}),variant:"outline-primary",size:"sm"},{default:t(()=>[...e[4]||(e[4]=[a(" Edit ",-1)])]),_:1},8,["href"]),l(f,{size:"sm",variant:"danger",onClick:V=>y(s)},{default:t(()=>[...e[5]||(e[5]=[a(" Delete ",-1)])]),_:1},8,["onClick"])])]),_:1},8,["paginated-data"])]),_:1}),l(N,{show:o.value,title:"Delete Post",onClose:e[1]||(e[1]=s=>o.value=!1)},{footer:t(()=>[l(f,{variant:"outline-secondary",onClick:e[0]||(e[0]=s=>o.value=!1),class:"mr-2"},{default:t(()=>[...e[8]||(e[8]=[a("Cancel",-1)])]),_:1}),l(f,{variant:"danger",onClick:g},{default:t(()=>[...e[9]||(e[9]=[a("Delete",-1)])]),_:1})]),default:t(()=>{var s;return[r("p",null,[e[6]||(e[6]=a(" Are you sure you want to delete post ",-1)),r("strong",null,b((s=i.value)==null?void 0:s.title),1),e[7]||(e[7]=a("? This action cannot be undone. ",-1))])]}),_:1},8,["show"])]),_:1},8,["title"]))}};export{W as default};
