import{u as M,r as k,a as z,o as $,b as w,d as r,e as a,f as i,h as F,g as n,l as p,k as L,y as P,K,i as G,t as S,m as D,p as H}from"./app-B4kXJm1R.js";import{_ as J}from"./AdminLayout-Dl7j7Lml.js";import{_ as A}from"./Card-CWZ0FrNR.js";import{_ as v}from"./Button-BorMZ65S.js";import{_ as Q}from"./DataTable-CQkKoL2v.js";import{_ as j}from"./FormInput-DnkblmfP.js";import{_ as R}from"./Modal-D0MHrs78.js";import{q as h,a as E}from"./index-CSEUMRIG.js";import"./UserGroupIcon-CyxjldZw.js";import"./ArrowLeftIcon-C4pIvMX3.js";import"./TrashIcon-CSwwSb2h.js";import"./DemoBanner-5gPpdzaD.js";import"./XMarkIcon-BknwjWvY.js";import"./TagIcon-D0dlpqbY.js";import"./keyboard-BDssWLgB.js";const u=e=>({url:u.url(e),method:"get"});u.definition={methods:["get","head"],url:"/admin/post_categories/data"};u.url=e=>u.definition.url+h(e);u.get=e=>({url:u.url(e),method:"get"});u.head=e=>({url:u.url(e),method:"head"});const c=e=>({url:c.url(e),method:"get"});c.definition={methods:["get","head"],url:"/admin/post_categories"};c.url=e=>c.definition.url+h(e);c.get=e=>({url:c.url(e),method:"get"});c.head=e=>({url:c.url(e),method:"head"});const f=e=>({url:f.url(e),method:"post"});f.definition={methods:["post"],url:"/admin/post_categories"};f.url=e=>f.definition.url+h(e);f.post=e=>({url:f.url(e),method:"post"});const m=(e,l)=>({url:m.url(e,l),method:"put"});m.definition={methods:["put","patch"],url:"/admin/post_categories/{post_category}"};m.url=(e,l)=>{(typeof e=="string"||typeof e=="number")&&(e={post_category:e}),Array.isArray(e)&&(e={post_category:e[0]}),e=E(e);const d={post_category:e.post_category};return m.definition.url.replace("{post_category}",d.post_category.toString()).replace(/\/+$/,"")+h(l)};m.put=(e,l)=>({url:m.url(e,l),method:"put"});m.patch=(e,l)=>({url:m.url(e,l),method:"patch"});const g=(e,l)=>({url:g.url(e,l),method:"delete"});g.definition={methods:["delete"],url:"/admin/post_categories/{post_category}"};g.url=(e,l)=>{(typeof e=="string"||typeof e=="number")&&(e={post_category:e}),Array.isArray(e)&&(e={post_category:e[0]}),e=E(e);const d={post_category:e.post_category};return g.definition.url.replace("{post_category}",d.post_category.toString()).replace(/\/+$/,"")+h(l)};g.delete=(e,l)=>({url:g.url(e,l),method:"delete"});const V={data:Object.assign(u,u),index:Object.assign(c,c),store:Object.assign(f,f),update:Object.assign(m,m),destroy:Object.assign(g,g)},W={class:"grid grid-cols-1 lg:grid-cols-12 gap-6"},X={class:"lg:col-span-8"},Y={class:"flex gap-2"},Z={class:"lg:col-span-4"},ee={class:"space-y-4"},te={class:""},oe={key:0,class:"mt-1 text-sm text-red-600"},le={class:"flex justify-end gap-2"},be={__name:"Index",props:{title:{type:String,default:"Post Categories"},paginatedCategories:{type:Object,default:()=>({})}},setup(e){const l=M(),d=k(!1),C=k(null),o=z({name:"",slug:"",description:""}),N=()=>{o.slug=o.name.toLowerCase().replace(/\s+/g,"-")},x=()=>{d.value=!1,C.value=null,o.reset(),o.clearErrors()},O=()=>{d.value?o.put(V.update.url({post_category:C.value}),{onSuccess:()=>{l.success("Category updated successfully"),x()}}):o.post(V.store.url(),{onSuccess:()=>{l.success("Category created successfully"),x()}})},I=y=>{d.value=!0,C.value=y.id,o.name=y.name,o.slug=y.slug,o.description=y.description;const t=document.getElementById("category-form");t&&t.scrollIntoView({behavior:"smooth"})},_=k(!1),b=k(null),B=y=>{b.value=y,_.value=!0},T=()=>{b.value&&H.delete(V.destroy.url({post_category:b.value.id}),{onSuccess:()=>{l.success("Category deleted successfully"),_.value=!1,b.value=null}})},U=[{key:"name",label:"Name",sortable:!0},{key:"slug",label:"Slug",sortable:!0},{key:"description",label:"Description",sortable:!1},{key:"action",label:"Action",sortable:!1,searchable:!1}];return(y,t)=>($(),w(J,{title:e.title},{default:r(()=>[a(i(F),{title:e.title},null,8,["title"]),n("div",W,[n("div",X,[a(A,{title:`${e.title} List`},{default:r(()=>[a(Q,{"paginated-data":e.paginatedCategories,columns:U},{"cell-action":r(({row:s})=>[n("div",Y,[a(v,{size:"sm",variant:"outline-primary",onClick:q=>I(s)},{default:r(()=>[...t[5]||(t[5]=[p(" Edit ",-1)])]),_:1},8,["onClick"]),a(v,{size:"sm",variant:"danger",onClick:q=>B(s)},{default:r(()=>[...t[6]||(t[6]=[p(" Delete ",-1)])]),_:1},8,["onClick"])])]),_:1},8,["paginated-data"])]),_:1},8,["title"])]),n("div",Z,[a(A,{title:d.value?`Edit ${e.title}`:`Add ${e.title}`},{default:r(()=>[n("form",{onSubmit:L(O,["prevent"]),id:"category-form"},[n("div",ee,[a(j,{modelValue:i(o).name,"onUpdate:modelValue":t[0]||(t[0]=s=>i(o).name=s),label:"Name",placeholder:"Category Name",required:"",error:i(o).errors.name,onInput:N},null,8,["modelValue","error"]),a(j,{modelValue:i(o).slug,"onUpdate:modelValue":t[1]||(t[1]=s=>i(o).slug=s),label:"Slug",placeholder:"slug",required:"",error:i(o).errors.slug},null,8,["modelValue","error"]),n("div",te,[t[7]||(t[7]=n("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Description",-1)),P(n("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>i(o).description=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-secondary-800 dark:border-secondary-600 dark:text-white",rows:"3",placeholder:"Description"},null,512),[[K,i(o).description]]),i(o).errors.description?($(),G("p",oe,S(i(o).errors.description),1)):D("",!0)]),n("div",le,[d.value?($(),w(v,{key:0,type:"button",variant:"outline-secondary",onClick:x},{default:r(()=>[...t[8]||(t[8]=[p(" Cancel ",-1)])]),_:1})):D("",!0),a(v,{type:"submit",loading:i(o).processing},{default:r(()=>[p(S(d.value?"Update":"Save"),1)]),_:1},8,["loading"])])])],32)]),_:1},8,["title"])])]),a(R,{show:_.value,title:"Delete Category",onClose:t[4]||(t[4]=s=>_.value=!1)},{footer:r(()=>[a(v,{variant:"outline-secondary",onClick:t[3]||(t[3]=s=>_.value=!1),class:"mr-2"},{default:r(()=>[...t[11]||(t[11]=[p(" Cancel ",-1)])]),_:1}),a(v,{variant:"danger",onClick:T},{default:r(()=>[...t[12]||(t[12]=[p(" Delete ",-1)])]),_:1})]),default:r(()=>{var s;return[n("p",null,[t[9]||(t[9]=p(" Are you sure you want to delete category ",-1)),n("strong",null,S((s=b.value)==null?void 0:s.name),1),t[10]||(t[10]=p("? This action cannot be undone. ",-1))])]}),_:1},8,["show"])]),_:1},8,["title"]))}};export{be as default};
