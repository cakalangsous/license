import{u as M,r as x,a as z,o as A,b as S,d as s,e as r,f as i,h as F,g as n,l as p,k as L,y as K,K as P,i as G,t as C,m as V,p as H}from"./app-B4kXJm1R.js";import{_ as J}from"./AdminLayout-Dl7j7Lml.js";import{_ as j}from"./Card-CWZ0FrNR.js";import{_ as v}from"./Button-BorMZ65S.js";import{_ as Q}from"./DataTable-CQkKoL2v.js";import{_ as w}from"./FormInput-DnkblmfP.js";import{_ as R}from"./Modal-D0MHrs78.js";import{q as k,a as D}from"./index-CSEUMRIG.js";import"./UserGroupIcon-CyxjldZw.js";import"./ArrowLeftIcon-C4pIvMX3.js";import"./TrashIcon-CSwwSb2h.js";import"./DemoBanner-5gPpdzaD.js";import"./XMarkIcon-BknwjWvY.js";import"./TagIcon-D0dlpqbY.js";import"./keyboard-BDssWLgB.js";const u=e=>({url:u.url(e),method:"get"});u.definition={methods:["get","head"],url:"/admin/tags/data"};u.url=e=>u.definition.url+k(e);u.get=e=>({url:u.url(e),method:"get"});u.head=e=>({url:u.url(e),method:"head"});const m=e=>({url:m.url(e),method:"get"});m.definition={methods:["get","head"],url:"/admin/tags"};m.url=e=>m.definition.url+k(e);m.get=e=>({url:m.url(e),method:"get"});m.head=e=>({url:m.url(e),method:"head"});const f=e=>({url:f.url(e),method:"post"});f.definition={methods:["post"],url:"/admin/tags"};f.url=e=>f.definition.url+k(e);f.post=e=>({url:f.url(e),method:"post"});const c=(e,o)=>({url:c.url(e,o),method:"put"});c.definition={methods:["put","patch"],url:"/admin/tags/{tag}"};c.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={tag:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={tag:e.id}),Array.isArray(e)&&(e={tag:e[0]}),e=D(e);const d={tag:typeof e.tag=="object"?e.tag.id:e.tag};return c.definition.url.replace("{tag}",d.tag.toString()).replace(/\/+$/,"")+k(o)};c.put=(e,o)=>({url:c.url(e,o),method:"put"});c.patch=(e,o)=>({url:c.url(e,o),method:"patch"});const g=(e,o)=>({url:g.url(e,o),method:"delete"});g.definition={methods:["delete"],url:"/admin/tags/{tag}"};g.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={tag:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={tag:e.id}),Array.isArray(e)&&(e={tag:e[0]}),e=D(e);const d={tag:typeof e.tag=="object"?e.tag.id:e.tag};return g.definition.url.replace("{tag}",d.tag.toString()).replace(/\/+$/,"")+k(o)};g.delete=(e,o)=>({url:g.url(e,o),method:"delete"});const T={data:Object.assign(u,u),index:Object.assign(m,m),store:Object.assign(f,f),update:Object.assign(c,c),destroy:Object.assign(g,g)},W={class:"grid grid-cols-1 lg:grid-cols-12 gap-6"},X={class:"lg:col-span-8"},Y={class:"flex gap-2"},Z={class:"lg:col-span-4"},ee={class:"space-y-4"},te={class:""},le={key:0,class:"mt-1 text-sm text-red-600"},oe={class:"flex justify-end gap-2"},he={__name:"Index",props:{title:{type:String,default:"Tags"},paginatedTags:{type:Object,default:()=>({})}},setup(e){const o=M(),d=x(!1),_=x(null),l=z({name:"",slug:"",description:""}),E=()=>{l.slug=l.name.toLowerCase().replace(/\s+/g,"-")},$=()=>{d.value=!1,_.value=null,l.reset(),l.clearErrors()},N=()=>{d.value?l.put(T.update.url({tag:_.value}),{onSuccess:()=>{o.success("Tag updated successfully"),$()}}):l.post(T.store.url(),{onSuccess:()=>{o.success("Tag created successfully"),$()}})},O=y=>{d.value=!0,_.value=y.id,l.name=y.name,l.slug=y.slug,l.description=y.description;const t=document.getElementById("tag-form");t&&t.scrollIntoView({behavior:"smooth"})},b=x(!1),h=x(null),I=y=>{h.value=y,b.value=!0},B=()=>{h.value&&H.delete(T.destroy.url({tag:h.value.id}),{onSuccess:()=>{o.success("Tag deleted successfully"),b.value=!1,h.value=null}})},U=[{key:"name",label:"Name",sortable:!0},{key:"slug",label:"Slug",sortable:!0},{key:"description",label:"Description",sortable:!1},{key:"action",label:"Action",sortable:!1,searchable:!1}];return(y,t)=>(A(),S(J,{title:e.title},{default:s(()=>[r(i(F),{title:e.title},null,8,["title"]),n("div",W,[n("div",X,[r(j,{title:`${e.title} List`},{default:s(()=>[r(Q,{"paginated-data":e.paginatedTags,columns:U},{"cell-action":s(({row:a})=>[n("div",Y,[r(v,{size:"sm",variant:"outline-primary",onClick:q=>O(a)},{default:s(()=>[...t[5]||(t[5]=[p(" Edit ",-1)])]),_:1},8,["onClick"]),r(v,{size:"sm",variant:"danger",onClick:q=>I(a)},{default:s(()=>[...t[6]||(t[6]=[p(" Delete ",-1)])]),_:1},8,["onClick"])])]),_:1},8,["paginated-data"])]),_:1},8,["title"])]),n("div",Z,[r(j,{title:d.value?`Edit ${e.title}`:`Add ${e.title}`},{default:s(()=>[n("form",{onSubmit:L(N,["prevent"]),id:"tag-form"},[n("div",ee,[r(w,{modelValue:i(l).name,"onUpdate:modelValue":t[0]||(t[0]=a=>i(l).name=a),label:"Name",placeholder:"Tag Name",required:"",error:i(l).errors.name,onInput:E},null,8,["modelValue","error"]),r(w,{modelValue:i(l).slug,"onUpdate:modelValue":t[1]||(t[1]=a=>i(l).slug=a),label:"Slug",placeholder:"slug",required:"",error:i(l).errors.slug},null,8,["modelValue","error"]),n("div",te,[t[7]||(t[7]=n("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Description",-1)),K(n("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>i(l).description=a),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-secondary-800 dark:border-secondary-600 dark:text-white",rows:"3",placeholder:"Description"},null,512),[[P,i(l).description]]),i(l).errors.description?(A(),G("p",le,C(i(l).errors.description),1)):V("",!0)]),n("div",oe,[d.value?(A(),S(v,{key:0,type:"button",variant:"outline-secondary",onClick:$},{default:s(()=>[...t[8]||(t[8]=[p(" Cancel ",-1)])]),_:1})):V("",!0),r(v,{type:"submit",loading:i(l).processing},{default:s(()=>[p(C(d.value?"Update":"Save"),1)]),_:1},8,["loading"])])])],32)]),_:1},8,["title"])])]),r(R,{show:b.value,title:"Delete Tag",onClose:t[4]||(t[4]=a=>b.value=!1)},{footer:s(()=>[r(v,{variant:"outline-secondary",onClick:t[3]||(t[3]=a=>b.value=!1),class:"mr-2"},{default:s(()=>[...t[11]||(t[11]=[p(" Cancel ",-1)])]),_:1}),r(v,{variant:"danger",onClick:B},{default:s(()=>[...t[12]||(t[12]=[p(" Delete ",-1)])]),_:1})]),default:s(()=>{var a;return[n("p",null,[t[9]||(t[9]=p(" Are you sure you want to delete tag ",-1)),n("strong",null,C((a=h.value)==null?void 0:a.name),1),t[10]||(t[10]=p("? This action cannot be undone. ",-1))])]}),_:1},8,["show"])]),_:1},8,["title"]))}};export{he as default};
